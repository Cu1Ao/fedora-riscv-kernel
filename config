# Kernel command line, unfortunately has to be compiled in
# because of the bootloader.
CONFIG_CMDLINE="root=/dev/htifblk0 init=/init"

# Use cross-compiler.
CONFIG_CROSS_COMPILE=riscv64-unknown-elf-

# Basic settings.
CONFIG_FILE_LOCKING=y
CONFIG_SYSFS=y

# Loopback lets us build the stage4 disk.
CONFIG_BLK_DEV=y
CONFIG_BLK_DEV_LOOP=y

# Use ext4 in the stage4 disk.
CONFIG_EXT4_FS=y

# Add networking and virtio, even though they don't work right now.
CONFIG_NET_CORE=y
CONFIG_NETDEVICES=y
CONFIG_VIRTIO=y
CONFIG_VIRTIO_MMIO=y
CONFIG_VIRTIO_MMIO_CMDLINE_DEVICES=y
CONFIG_VIRTIO_NET=y
CONFIG_VIRTIO_BLK=y
CONFIG_VIRTIO_CONSOLE=y
CONFIG_SCSI_VIRTIO=y

# Stuff needed by systemd.
# https://github.com/systemd/systemd/blob/master/README
CONFIG_DEVTMPFS=y
CONFIG_CGROUPS=y
CONFIG_INOTIFY_USER=y
CONFIG_SIGNALFD=y
CONFIG_TIMERFD=y
CONFIG_EPOLL=y
CONFIG_NET=y
CONFIG_PROC_FS=y
CONFIG_FHANDLE=y
CONFIG_SYSFS_DEPRECATED=n
CONFIG_UEVENT_HELPER_PATH=""
CONFIG_FW_LOADER_USER_HELPER=n
CONFIG_DMIID=y
CONFIG_BLK_DEV_BSG=y
CONFIG_NET_NS=y
CONFIG_DEVPTS_MULTIPLE_INSTANCES=y
# CONFIG_IPV6=y
CONFIG_AUTOFS4_FS=y
CONFIG_TMPFS_XATTR=y
CONFIG_TMPFS_POSIX_ACL=y
CONFIG_EXT4_POSIX_ACL=y
CONFIG_XFS_POSIX_ACL=y
CONFIG_BTRFS_FS_POSIX_ACL=y
CONFIG_SECCOMP=y
CONFIG_SECCOMP_FILTER=y
CONFIG_CHECKPOINT_RESTORE=y
CONFIG_CGROUP_SCHED=y
CONFIG_FAIR_GROUP_SCHED=y
CONFIG_CFS_BANDWIDTH=y
CONFIG_EFIVAR_FS=y
CONFIG_EFI_PARTITION=y
CONFIG_RT_GROUP_SCHED=n
CONFIG_AUDIT=n
